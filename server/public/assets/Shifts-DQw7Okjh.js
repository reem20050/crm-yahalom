import{x as Ie,W as _,Y as D,Z as ae,_ as Be,$ as Xe,a0 as Ve,c as oe,r as M,e as F,d as U,j as e,X as ce,z as y,a1 as te,t as Je,h as qe,a2 as De,o as me,A as Ee,a3 as je,m as Pe,E as Ze,a4 as re,y as ze,U as he,S as xe,s as W,p as et,J as tt}from"./index-DNhSfFTF.js";import{u as at}from"./index.esm-CTjlG80w.js";import{t as st,o as rt,s as Z,b as Ne,n as nt}from"./types-C-QvhzS9.js";import{S as A}from"./Skeleton-B57jvd7z.js";import{M as ne}from"./map-pin-CnrXv9DV.js";import{C as Ue}from"./check-circle-rj1BL297.js";import{X as it}from"./x-circle-BHCg12U1.js";import{o as lt}from"./WhatsAppButton-CMz-ehNn.js";import{u as ot,B as ct}from"./BulkActionBar-DykjjnnX.js";import{P as we}from"./plus-42YS-w1A.js";import{T as ge}from"./trash-2-C8JFUyr_.js";import{C as dt}from"./chevron-right-C3L6iRaz.js";import{C as fe}from"./car-BCPsmmPr.js";import{C as ut}from"./check-CKd6TXeu.js";import{M as _e}from"./message-circle-CWw4z9y6.js";import{L as mt}from"./log-in-Cc9ZJbBP.js";import{U as ht}from"./user-plus-F5Fn6_3p.js";import"./external-link-BplGfNjn.js";/**
 * @license lucide-react v0.302.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=Ie("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);function K(n){if(n===null||n===!0||n===!1)return NaN;var a=Number(n);return isNaN(a)?a:a<0?Math.ceil(a):Math.floor(a)}function ee(n,a){_(2,arguments);var t=D(n),s=K(a);return isNaN(s)?new Date(NaN):(s&&t.setDate(t.getDate()+s),t)}function xt(n,a){_(2,arguments);var t=D(n).getTime(),s=K(a);return new Date(t+s)}function gt(n,a){var t,s,r,i,o,m,x,f;_(1,arguments);var h=ae(),g=K((t=(s=(r=(i=a==null?void 0:a.weekStartsOn)!==null&&i!==void 0?i:a==null||(o=a.locale)===null||o===void 0||(m=o.options)===null||m===void 0?void 0:m.weekStartsOn)!==null&&r!==void 0?r:h.weekStartsOn)!==null&&s!==void 0?s:(x=h.locale)===null||x===void 0||(f=x.options)===null||f===void 0?void 0:f.weekStartsOn)!==null&&t!==void 0?t:0);if(!(g>=0&&g<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var l=D(n),c=l.getDay(),v=(c<g?7:0)+c-g;return l.setDate(l.getDate()-v),l.setHours(0,0,0,0),l}function ft(n){return _(1,arguments),n instanceof Date||Be(n)==="object"&&Object.prototype.toString.call(n)==="[object Date]"}function vt(n){if(_(1,arguments),!ft(n)&&typeof n!="number")return!1;var a=D(n);return!isNaN(Number(a))}function yt(n,a){_(2,arguments);var t=K(a);return xt(n,-t)}var pt=864e5;function bt(n){_(1,arguments);var a=D(n),t=a.getTime();a.setUTCMonth(0,1),a.setUTCHours(0,0,0,0);var s=a.getTime(),r=t-s;return Math.floor(r/pt)+1}function ie(n){_(1,arguments);var a=1,t=D(n),s=t.getUTCDay(),r=(s<a?7:0)+s-a;return t.setUTCDate(t.getUTCDate()-r),t.setUTCHours(0,0,0,0),t}function Ye(n){_(1,arguments);var a=D(n),t=a.getUTCFullYear(),s=new Date(0);s.setUTCFullYear(t+1,0,4),s.setUTCHours(0,0,0,0);var r=ie(s),i=new Date(0);i.setUTCFullYear(t,0,4),i.setUTCHours(0,0,0,0);var o=ie(i);return a.getTime()>=r.getTime()?t+1:a.getTime()>=o.getTime()?t:t-1}function jt(n){_(1,arguments);var a=Ye(n),t=new Date(0);t.setUTCFullYear(a,0,4),t.setUTCHours(0,0,0,0);var s=ie(t);return s}var Nt=6048e5;function wt(n){_(1,arguments);var a=D(n),t=ie(a).getTime()-jt(a).getTime();return Math.round(t/Nt)+1}function le(n,a){var t,s,r,i,o,m,x,f;_(1,arguments);var h=ae(),g=K((t=(s=(r=(i=a==null?void 0:a.weekStartsOn)!==null&&i!==void 0?i:a==null||(o=a.locale)===null||o===void 0||(m=o.options)===null||m===void 0?void 0:m.weekStartsOn)!==null&&r!==void 0?r:h.weekStartsOn)!==null&&s!==void 0?s:(x=h.locale)===null||x===void 0||(f=x.options)===null||f===void 0?void 0:f.weekStartsOn)!==null&&t!==void 0?t:0);if(!(g>=0&&g<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var l=D(n),c=l.getUTCDay(),v=(c<g?7:0)+c-g;return l.setUTCDate(l.getUTCDate()-v),l.setUTCHours(0,0,0,0),l}function We(n,a){var t,s,r,i,o,m,x,f;_(1,arguments);var h=D(n),g=h.getUTCFullYear(),l=ae(),c=K((t=(s=(r=(i=a==null?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:a==null||(o=a.locale)===null||o===void 0||(m=o.options)===null||m===void 0?void 0:m.firstWeekContainsDate)!==null&&r!==void 0?r:l.firstWeekContainsDate)!==null&&s!==void 0?s:(x=l.locale)===null||x===void 0||(f=x.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&t!==void 0?t:1);if(!(c>=1&&c<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var v=new Date(0);v.setUTCFullYear(g+1,0,c),v.setUTCHours(0,0,0,0);var C=le(v,a),k=new Date(0);k.setUTCFullYear(g,0,c),k.setUTCHours(0,0,0,0);var E=le(k,a);return h.getTime()>=C.getTime()?g+1:h.getTime()>=E.getTime()?g:g-1}function _t(n,a){var t,s,r,i,o,m,x,f;_(1,arguments);var h=ae(),g=K((t=(s=(r=(i=a==null?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:a==null||(o=a.locale)===null||o===void 0||(m=o.options)===null||m===void 0?void 0:m.firstWeekContainsDate)!==null&&r!==void 0?r:h.firstWeekContainsDate)!==null&&s!==void 0?s:(x=h.locale)===null||x===void 0||(f=x.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&t!==void 0?t:1),l=We(n,a),c=new Date(0);c.setUTCFullYear(l,0,g),c.setUTCHours(0,0,0,0);var v=le(c,a);return v}var kt=6048e5;function Ct(n,a){_(1,arguments);var t=D(n),s=le(t,a).getTime()-_t(t,a).getTime();return Math.round(s/kt)+1}function p(n,a){for(var t=n<0?"-":"",s=Math.abs(n).toString();s.length<a;)s="0"+s;return t+s}var R={y:function(a,t){var s=a.getUTCFullYear(),r=s>0?s:1-s;return p(t==="yy"?r%100:r,t.length)},M:function(a,t){var s=a.getUTCMonth();return t==="M"?String(s+1):p(s+1,2)},d:function(a,t){return p(a.getUTCDate(),t.length)},a:function(a,t){var s=a.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return s.toUpperCase();case"aaa":return s;case"aaaaa":return s[0];case"aaaa":default:return s==="am"?"a.m.":"p.m."}},h:function(a,t){return p(a.getUTCHours()%12||12,t.length)},H:function(a,t){return p(a.getUTCHours(),t.length)},m:function(a,t){return p(a.getUTCMinutes(),t.length)},s:function(a,t){return p(a.getUTCSeconds(),t.length)},S:function(a,t){var s=t.length,r=a.getUTCMilliseconds(),i=Math.floor(r*Math.pow(10,s-3));return p(i,t.length)}},z={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Tt={G:function(a,t,s){var r=a.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return s.era(r,{width:"abbreviated"});case"GGGGG":return s.era(r,{width:"narrow"});case"GGGG":default:return s.era(r,{width:"wide"})}},y:function(a,t,s){if(t==="yo"){var r=a.getUTCFullYear(),i=r>0?r:1-r;return s.ordinalNumber(i,{unit:"year"})}return R.y(a,t)},Y:function(a,t,s,r){var i=We(a,r),o=i>0?i:1-i;if(t==="YY"){var m=o%100;return p(m,2)}return t==="Yo"?s.ordinalNumber(o,{unit:"year"}):p(o,t.length)},R:function(a,t){var s=Ye(a);return p(s,t.length)},u:function(a,t){var s=a.getUTCFullYear();return p(s,t.length)},Q:function(a,t,s){var r=Math.ceil((a.getUTCMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return p(r,2);case"Qo":return s.ordinalNumber(r,{unit:"quarter"});case"QQQ":return s.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return s.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(r,{width:"wide",context:"formatting"})}},q:function(a,t,s){var r=Math.ceil((a.getUTCMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return p(r,2);case"qo":return s.ordinalNumber(r,{unit:"quarter"});case"qqq":return s.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return s.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(r,{width:"wide",context:"standalone"})}},M:function(a,t,s){var r=a.getUTCMonth();switch(t){case"M":case"MM":return R.M(a,t);case"Mo":return s.ordinalNumber(r+1,{unit:"month"});case"MMM":return s.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return s.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(r,{width:"wide",context:"formatting"})}},L:function(a,t,s){var r=a.getUTCMonth();switch(t){case"L":return String(r+1);case"LL":return p(r+1,2);case"Lo":return s.ordinalNumber(r+1,{unit:"month"});case"LLL":return s.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return s.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(r,{width:"wide",context:"standalone"})}},w:function(a,t,s,r){var i=Ct(a,r);return t==="wo"?s.ordinalNumber(i,{unit:"week"}):p(i,t.length)},I:function(a,t,s){var r=wt(a);return t==="Io"?s.ordinalNumber(r,{unit:"week"}):p(r,t.length)},d:function(a,t,s){return t==="do"?s.ordinalNumber(a.getUTCDate(),{unit:"date"}):R.d(a,t)},D:function(a,t,s){var r=bt(a);return t==="Do"?s.ordinalNumber(r,{unit:"dayOfYear"}):p(r,t.length)},E:function(a,t,s){var r=a.getUTCDay();switch(t){case"E":case"EE":case"EEE":return s.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return s.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(r,{width:"short",context:"formatting"});case"EEEE":default:return s.day(r,{width:"wide",context:"formatting"})}},e:function(a,t,s,r){var i=a.getUTCDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return p(o,2);case"eo":return s.ordinalNumber(o,{unit:"day"});case"eee":return s.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return s.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(i,{width:"short",context:"formatting"});case"eeee":default:return s.day(i,{width:"wide",context:"formatting"})}},c:function(a,t,s,r){var i=a.getUTCDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return p(o,t.length);case"co":return s.ordinalNumber(o,{unit:"day"});case"ccc":return s.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return s.day(i,{width:"narrow",context:"standalone"});case"cccccc":return s.day(i,{width:"short",context:"standalone"});case"cccc":default:return s.day(i,{width:"wide",context:"standalone"})}},i:function(a,t,s){var r=a.getUTCDay(),i=r===0?7:r;switch(t){case"i":return String(i);case"ii":return p(i,t.length);case"io":return s.ordinalNumber(i,{unit:"day"});case"iii":return s.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return s.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return s.day(r,{width:"short",context:"formatting"});case"iiii":default:return s.day(r,{width:"wide",context:"formatting"})}},a:function(a,t,s){var r=a.getUTCHours(),i=r/12>=1?"pm":"am";switch(t){case"a":case"aa":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(a,t,s){var r=a.getUTCHours(),i;switch(r===12?i=z.noon:r===0?i=z.midnight:i=r/12>=1?"pm":"am",t){case"b":case"bb":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(a,t,s){var r=a.getUTCHours(),i;switch(r>=17?i=z.evening:r>=12?i=z.afternoon:r>=4?i=z.morning:i=z.night,t){case"B":case"BB":case"BBB":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(a,t,s){if(t==="ho"){var r=a.getUTCHours()%12;return r===0&&(r=12),s.ordinalNumber(r,{unit:"hour"})}return R.h(a,t)},H:function(a,t,s){return t==="Ho"?s.ordinalNumber(a.getUTCHours(),{unit:"hour"}):R.H(a,t)},K:function(a,t,s){var r=a.getUTCHours()%12;return t==="Ko"?s.ordinalNumber(r,{unit:"hour"}):p(r,t.length)},k:function(a,t,s){var r=a.getUTCHours();return r===0&&(r=24),t==="ko"?s.ordinalNumber(r,{unit:"hour"}):p(r,t.length)},m:function(a,t,s){return t==="mo"?s.ordinalNumber(a.getUTCMinutes(),{unit:"minute"}):R.m(a,t)},s:function(a,t,s){return t==="so"?s.ordinalNumber(a.getUTCSeconds(),{unit:"second"}):R.s(a,t)},S:function(a,t){return R.S(a,t)},X:function(a,t,s,r){var i=r._originalDate||a,o=i.getTimezoneOffset();if(o===0)return"Z";switch(t){case"X":return Ce(o);case"XXXX":case"XX":return X(o);case"XXXXX":case"XXX":default:return X(o,":")}},x:function(a,t,s,r){var i=r._originalDate||a,o=i.getTimezoneOffset();switch(t){case"x":return Ce(o);case"xxxx":case"xx":return X(o);case"xxxxx":case"xxx":default:return X(o,":")}},O:function(a,t,s,r){var i=r._originalDate||a,o=i.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+ke(o,":");case"OOOO":default:return"GMT"+X(o,":")}},z:function(a,t,s,r){var i=r._originalDate||a,o=i.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+ke(o,":");case"zzzz":default:return"GMT"+X(o,":")}},t:function(a,t,s,r){var i=r._originalDate||a,o=Math.floor(i.getTime()/1e3);return p(o,t.length)},T:function(a,t,s,r){var i=r._originalDate||a,o=i.getTime();return p(o,t.length)}};function ke(n,a){var t=n>0?"-":"+",s=Math.abs(n),r=Math.floor(s/60),i=s%60;if(i===0)return t+String(r);var o=a;return t+String(r)+o+p(i,2)}function Ce(n,a){if(n%60===0){var t=n>0?"-":"+";return t+p(Math.abs(n)/60,2)}return X(n,a)}function X(n,a){var t=a||"",s=n>0?"-":"+",r=Math.abs(n),i=p(Math.floor(r/60),2),o=p(r%60,2);return s+i+t+o}var Te=function(a,t){switch(a){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},Fe=function(a,t){switch(a){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},St=function(a,t){var s=a.match(/(P+)(p+)?/)||[],r=s[1],i=s[2];if(!i)return Te(a,t);var o;switch(r){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",Te(r,t)).replace("{{time}}",Fe(i,t))},Ot={p:Fe,P:St},Mt=["D","DD"],qt=["YY","YYYY"];function Dt(n){return Mt.indexOf(n)!==-1}function Et(n){return qt.indexOf(n)!==-1}function Se(n,a,t){if(n==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(a,"`) for formatting years to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(n==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(a,"`) for formatting years to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(n==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(a,"`) for formatting days of the month to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(n==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(a,"`) for formatting days of the month to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var Pt=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Ut=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,$t=/^'([^]*?)'?$/,Yt=/''/g,Wt=/[a-zA-Z]/;function O(n,a,t){var s,r,i,o,m,x,f,h,g,l,c,v,C,k,E,P,L,H;_(2,arguments);var V=String(a),q=ae(),T=(s=(r=t==null?void 0:t.locale)!==null&&r!==void 0?r:q.locale)!==null&&s!==void 0?s:Xe,G=K((i=(o=(m=(x=t==null?void 0:t.firstWeekContainsDate)!==null&&x!==void 0?x:t==null||(f=t.locale)===null||f===void 0||(h=f.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&m!==void 0?m:q.firstWeekContainsDate)!==null&&o!==void 0?o:(g=q.locale)===null||g===void 0||(l=g.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(G>=1&&G<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var Q=K((c=(v=(C=(k=t==null?void 0:t.weekStartsOn)!==null&&k!==void 0?k:t==null||(E=t.locale)===null||E===void 0||(P=E.options)===null||P===void 0?void 0:P.weekStartsOn)!==null&&C!==void 0?C:q.weekStartsOn)!==null&&v!==void 0?v:(L=q.locale)===null||L===void 0||(H=L.options)===null||H===void 0?void 0:H.weekStartsOn)!==null&&c!==void 0?c:0);if(!(Q>=0&&Q<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!T.localize)throw new RangeError("locale must contain localize property");if(!T.formatLong)throw new RangeError("locale must contain formatLong property");var S=D(n);if(!vt(S))throw new RangeError("Invalid time value");var d=Ve(S),b=yt(S,d),I={firstWeekContainsDate:G,weekStartsOn:Q,locale:T,_originalDate:S},se=V.match(Ut).map(function(w){var N=w[0];if(N==="p"||N==="P"){var J=Ot[N];return J(w,T.formatLong)}return w}).join("").match(Pt).map(function(w){if(w==="''")return"'";var N=w[0];if(N==="'")return Ft(w);var J=Tt[N];if(J)return!(t!=null&&t.useAdditionalWeekYearTokens)&&Et(w)&&Se(w,a,String(n)),!(t!=null&&t.useAdditionalDayOfYearTokens)&&Dt(w)&&Se(w,a,String(n)),J(b,w,T.localize,I);if(N.match(Wt))throw new RangeError("Format string contains an unescaped latin alphabet character `"+N+"`");return w}).join("");return se}function Ft(n){var a=n.match($t);return a?a[1].replace(Yt,"'"):n}const Lt=[{value:0,label:"×¨××©×•×Ÿ"},{value:1,label:"×©× ×™"},{value:2,label:"×©×œ×™×©×™"},{value:3,label:"×¨×‘×™×¢×™"},{value:4,label:"×—××™×©×™"},{value:5,label:"×©×™×©×™"},{value:6,label:"×©×‘×ª"}],Qt=[{value:"regular",label:"×¨×’×™×œ×”"},{value:"night",label:"×œ×™×œ×”"},{value:"weekend",label:"×¡×•×£ ×©×‘×•×¢"},{value:"holiday",label:"×—×’"}];function At({template:n,onClose:a}){var g,l;const t=oe(),s=!!n,[r,i]=M.useState({name:(n==null?void 0:n.name)||"",customer_id:(n==null?void 0:n.customer_id)||"",site_id:(n==null?void 0:n.site_id)||"",start_time:(n==null?void 0:n.start_time)||"08:00",end_time:(n==null?void 0:n.end_time)||"16:00",required_employees:(n==null?void 0:n.required_employees)||1,requires_weapon:!!(n!=null&&n.requires_weapon),requires_vehicle:!!(n!=null&&n.requires_vehicle),days_of_week:n!=null&&n.days_of_week?typeof n.days_of_week=="string"?JSON.parse(n.days_of_week):n.days_of_week:[],shift_type:(n==null?void 0:n.shift_type)||"regular",default_notes:(n==null?void 0:n.default_notes)||""}),{data:o}=F({queryKey:["customers-list"],queryFn:()=>qe.getAll({limit:100,status:"active"}).then(c=>c.data)}),{data:m}=F({queryKey:["sites",r.customer_id],queryFn:()=>r.customer_id?De.getByCustomer(r.customer_id).then(c=>c.data):Promise.resolve({sites:[]}),enabled:!!r.customer_id}),x=U({mutationFn:c=>s?te.update(n.id,c):te.create(c),onSuccess:()=>{t.invalidateQueries({queryKey:["shift-templates"]}),y.success(s?"×”×ª×‘× ×™×ª ×¢×•×“×›× ×”":"×”×ª×‘× ×™×ª × ×•×¦×¨×”"),a()},onError:()=>y.error("×©×’×™××” ×‘×©××™×¨×ª ×ª×‘× ×™×ª")}),f=c=>{if(c.preventDefault(),!r.name.trim())return y.error("× × ×œ×”×–×™×Ÿ ×©× ×œ×ª×‘× ×™×ª");if(r.days_of_week.length===0)return y.error("× × ×œ×‘×—×•×¨ ×™××™× ×‘×©×‘×•×¢");x.mutate(r)},h=c=>{i(v=>({...v,days_of_week:v.days_of_week.includes(c)?v.days_of_week.filter(C=>C!==c):[...v.days_of_week,c].sort()}))};return e.jsx("div",{className:"modal-backdrop",children:e.jsxs("div",{className:"modal-content max-w-lg max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100",children:[e.jsx("h2",{className:"text-xl font-bold font-heading",children:s?"×¢×¨×™×›×ª ×ª×‘× ×™×ª":"×ª×‘× ×™×ª ××©××¨×ª ×—×“×©×”"}),e.jsx("button",{onClick:a,className:"btn-icon",children:e.jsx(ce,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:f,className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"label",children:"×©× ×”×ª×‘× ×™×ª *"}),e.jsx("input",{value:r.name,onChange:c=>i({...r,name:c.target.value}),className:"input",placeholder:'×œ×“×•×’×³ "×©××™×¨×” ×œ×™×œ×™×ª - ××’×“×œ×™ ×¢×–×¨×™××œ×™"'})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"label",children:"×œ×§×•×—"}),e.jsxs("select",{value:r.customer_id,onChange:c=>i({...r,customer_id:c.target.value,site_id:""}),className:"input",children:[e.jsx("option",{value:"",children:"×‘×—×¨ ×œ×§×•×—..."}),(g=o==null?void 0:o.customers)==null?void 0:g.map(c=>e.jsx("option",{value:c.id,children:c.company_name},c.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"label",children:"××ª×¨"}),e.jsxs("select",{value:r.site_id,onChange:c=>i({...r,site_id:c.target.value}),className:"input",disabled:!r.customer_id,children:[e.jsx("option",{value:"",children:"×‘×—×¨ ××ª×¨..."}),(l=m==null?void 0:m.sites)==null?void 0:l.map(c=>e.jsx("option",{value:c.id,children:c.name},c.id))]})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"label",children:"×©×¢×ª ×”×ª×—×œ×” *"}),e.jsx("input",{type:"time",value:r.start_time,onChange:c=>i({...r,start_time:c.target.value}),className:"input"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"label",children:"×©×¢×ª ×¡×™×•× *"}),e.jsx("input",{type:"time",value:r.end_time,onChange:c=>i({...r,end_time:c.target.value}),className:"input"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"label",children:"×¢×•×‘×“×™× × ×“×¨×©×™×"}),e.jsx("input",{type:"number",min:"1",value:r.required_employees,onChange:c=>i({...r,required_employees:parseInt(c.target.value)||1}),className:"input"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"label",children:"×¡×•×’ ××©××¨×ª"}),e.jsx("select",{value:r.shift_type,onChange:c=>i({...r,shift_type:c.target.value}),className:"input",children:Qt.map(c=>e.jsx("option",{value:c.value,children:c.label},c.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"label",children:"×™××™× ×‘×©×‘×•×¢ *"}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:Lt.map(c=>e.jsx("button",{type:"button",onClick:()=>h(c.value),className:`px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 ${r.days_of_week.includes(c.value)?"bg-gradient-to-br from-primary-500 to-primary-600 text-white shadow-sm":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:c.label},c.value))})]}),e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:r.requires_weapon,onChange:c=>i({...r,requires_weapon:c.target.checked}),className:"w-4 h-4 text-primary-600 rounded border-gray-300 focus:ring-primary-500"}),e.jsx("span",{className:"text-sm",children:"× ×“×¨×© × ×©×§"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:r.requires_vehicle,onChange:c=>i({...r,requires_vehicle:c.target.checked}),className:"w-4 h-4 text-primary-600 rounded border-gray-300 focus:ring-primary-500"}),e.jsx("span",{className:"text-sm",children:"× ×“×¨×© ×¨×›×‘"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"label",children:"×”×¢×¨×•×ª ×‘×¨×™×¨×ª ××—×“×œ"}),e.jsx("textarea",{value:r.default_notes,onChange:c=>i({...r,default_notes:c.target.value}),className:"input min-h-[60px]",placeholder:"×”×¢×¨×•×ª ×©×™×™×›×œ×œ×• ×‘×›×œ ××©××¨×ª ×©×ª×™×•×•×¦×¨..."})]}),e.jsxs("div",{className:"flex gap-3 pt-2",children:[e.jsx("button",{type:"submit",disabled:x.isPending,className:"btn-primary flex-1",children:x.isPending?"×©×•××¨...":s?"×¢×“×›×Ÿ ×ª×‘× ×™×ª":"×¦×•×¨ ×ª×‘× ×™×ª"}),e.jsx("button",{type:"button",onClick:a,className:"btn-ghost",children:"×‘×™×˜×•×œ"})]})]})]})})}function Kt({templateId:n,templateName:a,onClose:t}){const s=oe(),[r,i]=M.useState(""),[o,m]=M.useState(""),x=U({mutationFn:()=>te.generate(n,r,o),onSuccess:h=>{s.invalidateQueries({queryKey:["shifts"]}),y.success(h.data.message||"××©××¨×•×ª × ×•×¦×¨×• ×‘×”×¦×œ×—×”"),t()},onError:()=>y.error("×©×’×™××” ×‘×™×¦×™×¨×ª ××©××¨×•×ª ××ª×‘× ×™×ª")}),f=h=>{if(h.preventDefault(),!r||!o)return y.error("× × ×œ×‘×—×•×¨ ×˜×•×•×— ×ª××¨×™×›×™×");if(o<r)return y.error("×ª××¨×™×š ×¡×™×•× ×—×™×™×‘ ×œ×”×™×•×ª ××—×¨×™ ×ª××¨×™×š ×”×ª×—×œ×”");x.mutate()};return e.jsx("div",{className:"modal-backdrop",children:e.jsxs("div",{className:"modal-content max-w-md",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100",children:[e.jsxs("h2",{className:"text-xl font-bold font-heading flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-primary-100 to-primary-50 flex items-center justify-center",children:e.jsx(Je,{className:"w-4 h-4 text-primary-600"})}),"×™×¦×™×¨×ª ××©××¨×•×ª ××ª×‘× ×™×ª"]}),e.jsx("button",{onClick:t,className:"btn-icon",children:e.jsx(ce,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:f,className:"p-6 space-y-4",children:[e.jsx("div",{className:"bg-gradient-to-br from-primary-50 to-blue-50 rounded-lg p-3 mb-2 border border-primary-100",children:e.jsxs("p",{className:"text-sm text-primary-800",children:[e.jsx("strong",{className:"font-heading",children:"×ª×‘× ×™×ª:"})," ",a]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"label",children:"××ª××¨×™×š *"}),e.jsx("input",{type:"date",value:r,onChange:h=>i(h.target.value),className:"input"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"label",children:"×¢×“ ×ª××¨×™×š *"}),e.jsx("input",{type:"date",value:o,onChange:h=>m(h.target.value),className:"input"})]})]}),e.jsxs("div",{className:"flex gap-3 pt-2",children:[e.jsx("button",{type:"submit",disabled:x.isPending,className:"btn-primary flex-1 flex items-center justify-center gap-2",children:x.isPending?"×™×•×¦×¨...":e.jsxs(e.Fragment,{children:[e.jsx($e,{className:"w-4 h-4"}),"×¦×•×¨ ××©××¨×•×ª"]})}),e.jsx("button",{type:"button",onClick:t,className:"btn-ghost",children:"×‘×™×˜×•×œ"})]})]})]})})}const Oe={ok:{icon:Ue,color:"text-green-500",badgeClass:"badge-success",label:"×ª×§×™×Ÿ"},issue_found:{icon:Ee,color:"text-yellow-500",badgeClass:"badge-warning",label:"× ××¦××” ×‘×¢×™×”"},requires_attention:{icon:it,color:"text-red-500",badgeClass:"badge-danger",label:"×“×•×¨×© ×˜×™×¤×•×œ"}};function Ht({siteId:n,assignmentId:a}){const{data:t,isLoading:s}=F({queryKey:["patrols-site-today",n],queryFn:()=>je.getSiteToday(n).then(l=>l.data),enabled:!!n&&!a}),{data:r,isLoading:i}=F({queryKey:["patrols-shift",a],queryFn:()=>je.getShiftLogs(a).then(l=>l.data),enabled:!!a}),o=s||i,m=a?r==null?void 0:r.logs:t==null?void 0:t.logs,x=(t==null?void 0:t.checkpoints)||[],f=(t==null?void 0:t.total_checkpoints)||x.length,h=(t==null?void 0:t.visited_today)||0,g=f>0?Math.round(h/f*100):0;return o?e.jsx("div",{className:"flex items-center justify-center py-4",children:e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-2 border-primary-500 border-t-transparent"})}):e.jsxs("div",{className:"space-y-4",children:[!a&&f>0&&e.jsxs("div",{className:"card p-4",children:[e.jsxs("div",{className:"section-header mb-3",children:[e.jsx("div",{className:"section-header-icon bg-gradient-to-br from-primary-100 to-primary-50",children:e.jsx(ne,{className:"w-4 h-4 text-primary-600"})}),e.jsx("h4",{className:"section-header-title text-sm",children:"×”×ª×§×“××•×ª ×¡×™×•×¨×™× ×”×™×•×"}),e.jsxs("span",{className:"font-heading font-bold text-sm text-gray-700 mr-auto",children:[h,"/",f," (",g,"%)"]})]}),e.jsx("div",{className:"w-full bg-gray-100 rounded-full h-3 overflow-hidden",children:e.jsx("div",{className:`h-3 rounded-full transition-all duration-500 ${g>=80?"bg-gradient-to-l from-green-500 to-emerald-400":g>=50?"bg-gradient-to-l from-yellow-500 to-amber-400":"bg-gradient-to-l from-red-500 to-rose-400"}`,style:{width:`${g}%`}})})]}),!a&&x.length>0&&e.jsx("div",{className:"space-y-1.5",children:x.map(l=>{const c=m==null?void 0:m.some(v=>v.checkpoint_id===l.id);return e.jsxs("div",{className:`flex items-center gap-2 p-2.5 rounded-lg text-sm transition-colors ${c?"bg-gradient-to-l from-green-50 to-emerald-50 text-green-800 border border-green-100":"bg-gray-50 text-gray-600 border border-gray-100"}`,children:[c?e.jsx(Ue,{className:"w-4 h-4 text-green-500 flex-shrink-0"}):e.jsx(me,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),e.jsx("span",{className:"font-medium font-heading",children:l.name}),l.description&&e.jsxs("span",{className:"text-xs text-gray-400",children:["- ",l.description]})]},l.id)})}),m&&m.length>0?e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"section-header mb-2",children:[e.jsx("div",{className:"section-header-icon bg-gradient-to-br from-gray-100 to-gray-50",children:e.jsx(me,{className:"w-3.5 h-3.5 text-gray-600"})}),e.jsx("h4",{className:"section-header-title text-sm",children:"×¨×™×©×•× ×¡×™×•×¨×™×"})]}),m.map(l=>{const c=Oe[l.status]||Oe.ok,v=c.icon;return e.jsxs("div",{className:"card flex items-start gap-3 p-3 hover:shadow-card-hover transition-all duration-200",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-gray-100 to-gray-50 flex items-center justify-center flex-shrink-0 mt-0.5",children:e.jsx(v,{className:`w-4 h-4 ${c.color}`})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"font-medium font-heading text-sm",children:l.checkpoint_name||"× ×§×•×“×ª ×‘×™×§×•×¨×ª"}),e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-[10px] font-medium bg-gray-100 text-gray-500",children:new Date(l.checked_at).toLocaleTimeString("he-IL",{hour:"2-digit",minute:"2-digit"})})]}),l.employee_name&&e.jsx("p",{className:"text-xs text-gray-500",children:l.employee_name}),l.observation&&e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:l.observation}),e.jsx("span",{className:`${c.badgeClass} text-[10px] mt-1 inline-block`,children:c.label})]})]},l.id)})]}):e.jsxs("div",{className:"text-center py-6",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-gray-100 to-gray-50 flex items-center justify-center mx-auto mb-2",children:e.jsx(ne,{className:"w-6 h-6 text-gray-300"})}),e.jsx("p",{className:"text-gray-400 text-sm font-heading",children:"××™×Ÿ ×¨×™×©×•××™ ×¡×™×•×¨×™×"})]})]})}const Rt=rt({site_id:Z().optional(),customer_id:Z().optional(),date:Z().min(1,"× ×“×¨×© ×ª××¨×™×š"),start_time:Z().min(1,"× ×“×¨×©×ª ×©×¢×ª ×”×ª×—×œ×”"),end_time:Z().min(1,"× ×“×¨×©×ª ×©×¢×ª ×¡×™×•×"),required_employees:nt().min(1,"× ×“×¨×© ×œ×¤×—×•×ª ×¢×•×‘×“ ××—×“"),requires_weapon:Ne().optional(),requires_vehicle:Ne().optional(),notes:Z().optional()});function Me(){return new Promise(n=>{if(!navigator.geolocation){n(null);return}navigator.geolocation.getCurrentPosition(a=>n({latitude:a.coords.latitude,longitude:a.coords.longitude}),()=>n(null),{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})})}function Gt({shiftId:n,onClose:a}){const t=oe(),{can:s}=Pe(),[r,i]=M.useState("×××‘×˜×—"),[o,m]=M.useState(""),[x,f]=M.useState(!1),{data:h,isLoading:g}=F({queryKey:["shift-detail",n],queryFn:()=>W.getOne(n).then(d=>d.data)}),l=(h==null?void 0:h.shift)??h,c=(h==null?void 0:h.assignments)??(l==null?void 0:l.assignments)??[],{data:v}=F({queryKey:["employees-active"],queryFn:()=>tt.getAll({status:"active",limit:200}).then(d=>d.data)}),C=(v==null?void 0:v.employees)??[],k=U({mutationFn:d=>W.assign(n,d),onSuccess:()=>{t.invalidateQueries({queryKey:["shift-detail",n]}),t.invalidateQueries({queryKey:["shifts"]}),y.success("×”×¢×•×‘×“ ×©×•×‘×¥ ×‘×”×¦×œ×—×”"),m(""),i("×××‘×˜×—")},onError:()=>{y.error("×©×’×™××” ×‘×©×™×‘×•×¥ ×”×¢×•×‘×“")}}),E=U({mutationFn:d=>W.unassign(n,d),onSuccess:()=>{t.invalidateQueries({queryKey:["shift-detail",n]}),t.invalidateQueries({queryKey:["shifts"]}),y.success("×”×¢×•×‘×“ ×”×•×¡×¨ ××”××©××¨×ª")},onError:()=>{y.error("×©×’×™××” ×‘×”×¡×¨×ª ×”×¢×•×‘×“")}}),P=U({mutationFn:()=>W.delete(n),onSuccess:()=>{t.invalidateQueries({queryKey:["shifts"]}),y.success("×”××©××¨×ª × ××—×§×” ×‘×”×¦×œ×—×”"),a()},onError:()=>{y.error("×©×’×™××” ×‘××—×™×§×ª ×”××©××¨×ª")}}),L=(d,b)=>{const I=`×©×œ×•× ${b}, ×ª×–×›×•×¨×ª ×œ××©××¨×ª:
ğŸ“ ${l==null?void 0:l.company_name} - ${l==null?void 0:l.site_name}
ğŸ“… ${l==null?void 0:l.date}
â° ${l==null?void 0:l.start_time} - ${l==null?void 0:l.end_time}${l!=null&&l.site_address?`
ğŸ—ºï¸ ${l.site_address}`:""}

×¦×•×•×ª ×™×”×œ×•×`;lt(d,I)},H=U({mutationFn:async d=>{const b=await Me();return W.checkIn(d,b?{latitude:b.latitude,longitude:b.longitude}:void 0)},onSuccess:d=>{var b;t.invalidateQueries({queryKey:["shift-detail",n]}),t.invalidateQueries({queryKey:["shifts"]}),y.success("×¦'×§-××™×Ÿ ×‘×•×¦×¢ ×‘×”×¦×œ×—×”"),(b=d==null?void 0:d.data)!=null&&b.location_warning&&y(d.data.location_warning,{icon:"âš ï¸",duration:6e3})},onError:()=>y.error("×©×’×™××” ×‘×‘×™×¦×•×¢ ×¦'×§-××™×Ÿ")}),V=U({mutationFn:async d=>{const b=await Me();return W.checkOut(d,b?{latitude:b.latitude,longitude:b.longitude}:void 0)},onSuccess:d=>{var b;t.invalidateQueries({queryKey:["shift-detail",n]}),t.invalidateQueries({queryKey:["shifts"]}),y.success("×¦'×§-×××•×˜ ×‘×•×¦×¢ ×‘×”×¦×œ×—×”"),(b=d==null?void 0:d.data)!=null&&b.location_warning&&y(d.data.location_warning,{icon:"âš ï¸",duration:6e3})},onError:()=>y.error("×©×’×™××” ×‘×‘×™×¦×•×¢ ×¦'×§-×××•×˜")}),q=(l==null?void 0:l.date)===O(new Date,"yyyy-MM-dd"),T=()=>{const d=c.filter(b=>b.employee_phone);if(d.length===0){y.error("××™×Ÿ ××¡×¤×¨×™ ×˜×œ×¤×•×Ÿ ×œ×¢×•×‘×“×™× ×”××©×•×‘×¦×™×");return}d.forEach(b=>{L(b.employee_phone,b.employee_name)}),y.success(`× ×¤×ª×—×• ${d.length} ×—×œ×•× ×•×ª WhatsApp - ×©×œ×— ××ª ×”×”×•×“×¢×•×ª`)},G=()=>{if(!o){y.error("× × ×œ×‘×—×•×¨ ×¢×•×‘×“");return}k.mutate({employee_id:o,role:r})},Q=()=>{P.mutate()},S=d=>{switch(d){case"checked_in":return e.jsx("span",{className:"badge-success",children:"× ×›× ×¡"});case"checked_out":return e.jsx("span",{className:"badge-info",children:"×™×¦×"});case"no_show":return e.jsx("span",{className:"badge-danger",children:"×œ× ×”×’×™×¢"});default:return e.jsx("span",{className:"badge-warning",children:"××©×•×‘×¥"})}};return e.jsx("div",{className:"modal-backdrop",children:e.jsxs("div",{className:"modal-content w-full max-w-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[e.jsx("h2",{className:"text-xl font-bold font-heading",children:"×¤×¨×˜×™ ××©××¨×ª"}),e.jsx("button",{onClick:a,className:"p-2 hover:bg-gray-100 rounded-lg",children:e.jsx(ce,{className:"w-5 h-5"})})]}),g?e.jsx("div",{className:"flex items-center justify-center h-48",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-primary-600 border-t-transparent"})}):l?e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ne,{className:"w-5 h-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-lg",children:l.company_name}),e.jsxs("p",{className:"text-gray-500",children:[l.site_name,l.site_address?` - ${l.site_address}`:""]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(me,{className:"w-5 h-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-700",children:l.date?O(new Date(l.date+"T00:00:00"),"EEEE, d MMMM yyyy",{locale:re}):""}),e.jsxs("p",{className:"text-gray-500",children:[l.start_time," - ",l.end_time]})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(he,{className:"w-5 h-5 text-gray-400"}),e.jsxs("span",{children:["× ×“×¨×©×™×: ",l.required_employees," ×¢×•×‘×“×™×"]})]}),l.requires_weapon&&e.jsxs("div",{className:"flex items-center gap-1 text-orange-600",children:[e.jsx(xe,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:"× ×“×¨×© × ×©×§"})]}),l.requires_vehicle&&e.jsxs("div",{className:"flex items-center gap-1 text-blue-600",children:[e.jsx(fe,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:"× ×“×¨×© ×¨×›×‘"})]})]}),l.notes&&e.jsx("div",{className:"bg-gray-50 rounded-lg p-3",children:e.jsx("p",{className:"text-sm text-gray-600",children:l.notes})})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"section-header",children:[e.jsx("div",{className:"section-header-icon",children:e.jsx(he,{className:"w-4 h-4"})}),e.jsxs("h3",{className:"section-header-title",children:["×¢×•×‘×“×™× ××©×•×‘×¦×™× (",c.length,"/",l.required_employees,")"]})]}),c.length>0&&e.jsxs("button",{onClick:T,className:"text-sm flex items-center gap-1 px-3 py-1.5 rounded-lg bg-green-50 text-green-700 hover:bg-green-100 transition-colors",children:[e.jsx(_e,{className:"w-3.5 h-3.5"}),"×©×œ×— ×ª×–×›×•×¨×ª ×œ×›×•×œ×"]})]}),c.length>0?e.jsx("div",{className:"space-y-2",children:c.map(d=>{var b;return e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-primary-100 text-primary-700 rounded-full flex items-center justify-center text-sm font-medium",children:((b=d.employee_name)==null?void 0:b.charAt(0))||"?"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:d.employee_name}),e.jsx("p",{className:"text-sm text-gray-500",children:d.role})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[S(d.status),q&&d.status==="assigned"&&e.jsxs("button",{onClick:()=>H.mutate(d.id),disabled:H.isPending,className:"flex items-center gap-1 px-2 py-1 text-xs rounded-lg bg-green-100 text-green-700 hover:bg-green-200 transition-colors",title:"×¦'×§-××™×Ÿ",children:[e.jsx(mt,{className:"w-3.5 h-3.5"}),"×›× ×™×¡×”"]}),q&&d.status==="checked_in"&&!d.check_out_time&&e.jsxs("button",{onClick:()=>V.mutate(d.id),disabled:V.isPending,className:"flex items-center gap-1 px-2 py-1 text-xs rounded-lg bg-blue-100 text-blue-700 hover:bg-blue-200 transition-colors",title:"×¦'×§-×××•×˜",children:[e.jsx(et,{className:"w-3.5 h-3.5"}),"×™×¦×™××”"]}),d.check_in_time&&e.jsx("span",{className:"text-xs text-gray-400",title:"×©×¢×ª ×›× ×™×¡×”",children:new Date(d.check_in_time).toLocaleTimeString("he-IL",{hour:"2-digit",minute:"2-digit"})}),d.check_in_distance_meters!=null&&e.jsxs("span",{className:`text-xs px-1.5 py-0.5 rounded-full font-medium ${d.check_in_distance_meters<=200?"bg-green-100 text-green-700":"bg-orange-100 text-orange-700"}`,title:"××¨×—×§ ×›× ×™×¡×” ××”××ª×¨",children:[Math.round(d.check_in_distance_meters),"×'"]}),d.check_out_time&&e.jsxs("span",{className:"text-xs text-gray-400",title:"×©×¢×ª ×™×¦×™××”",children:["- ",new Date(d.check_out_time).toLocaleTimeString("he-IL",{hour:"2-digit",minute:"2-digit"})]}),d.check_out_distance_meters!=null&&e.jsxs("span",{className:`text-xs px-1.5 py-0.5 rounded-full font-medium ${d.check_out_distance_meters<=200?"bg-green-100 text-green-700":"bg-orange-100 text-orange-700"}`,title:"××¨×—×§ ×™×¦×™××” ××”××ª×¨",children:[Math.round(d.check_out_distance_meters),"×'"]}),d.employee_phone&&e.jsx("button",{onClick:()=>L(d.employee_phone,d.employee_name),className:"text-green-500 hover:text-green-700 hover:bg-green-50 p-1.5 rounded-lg transition-colors",title:"×©×œ×— ×ª×–×›×•×¨×ª WhatsApp",children:e.jsx(_e,{className:"w-4 h-4"})}),s("shifts:assign")&&e.jsx("button",{onClick:()=>E.mutate(d.id),disabled:E.isPending,className:"text-red-500 hover:text-red-700 hover:bg-red-50 p-1.5 rounded-lg transition-colors text-sm",title:"×”×¡×¨ ××”××©××¨×ª",children:"×”×¡×¨"})]})]},d.id)})}):e.jsx("p",{className:"text-gray-400 text-sm text-center py-4",children:"××™×Ÿ ×¢×•×‘×“×™× ××©×•×‘×¦×™× ×œ××©××¨×ª ×–×•"})]}),l.site_id&&e.jsxs("div",{className:"border-t pt-4",children:[e.jsxs("div",{className:"section-header mb-3",children:[e.jsx("div",{className:"section-header-icon",children:e.jsx(ne,{className:"w-4 h-4"})}),e.jsx("h3",{className:"section-header-title",children:"×¡×™×•×¨×™× ×•× ×§×•×“×•×ª ×‘×™×§×•×¨×ª"})]}),e.jsx(Ht,{siteId:l.site_id})]}),s("shifts:assign")&&e.jsxs("div",{className:"border-t pt-4",children:[e.jsxs("div",{className:"section-header mb-3",children:[e.jsx("div",{className:"section-header-icon",children:e.jsx(ht,{className:"w-4 h-4"})}),e.jsx("h3",{className:"section-header-title",children:"×©×‘×¥ ×¢×•×‘×“"})]}),e.jsxs("div",{className:"flex gap-3 items-end",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"label",children:"×¢×•×‘×“"}),e.jsxs("select",{value:o,onChange:d=>m(d.target.value),className:"input",children:[e.jsx("option",{value:"",children:"×‘×—×¨ ×¢×•×‘×“..."}),C.map(d=>e.jsxs("option",{value:d.id,children:[d.first_name," ",d.last_name]},d.id))]})]}),e.jsxs("div",{className:"w-40",children:[e.jsx("label",{className:"label",children:"×ª×¤×§×™×“"}),e.jsx("input",{type:"text",value:r,onChange:d=>i(d.target.value),className:"input",placeholder:"×××‘×˜×—"})]}),e.jsx("button",{onClick:G,disabled:k.isPending||!o,className:"btn-primary whitespace-nowrap",children:k.isPending?"××©×‘×¥...":"×©×‘×¥"})]})]}),s("shifts:delete")&&e.jsx("div",{className:"border-t pt-4",children:x?e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(Ee,{className:"w-5 h-5 text-red-600"}),e.jsx("p",{className:"font-medium text-red-800",children:"×”×× ××ª×” ×‘×˜×•×— ×©×‘×¨×¦×•× ×š ×œ××—×•×§ ××©××¨×ª ×–×•?"})]}),e.jsx("p",{className:"text-sm text-red-600 mb-3",children:"×¤×¢×•×œ×” ×–×• ×ª××—×§ ××ª ×”××©××¨×ª ×•××ª ×›×œ ×”×©×™×‘×•×¦×™× ×©×œ×”. ×œ× × ×™×ª×Ÿ ×œ×‘×˜×œ ×¤×¢×•×œ×” ×–×•."}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:Q,disabled:P.isPending,className:"btn-danger",children:P.isPending?"××•×—×§...":"×›×Ÿ, ××—×§"}),e.jsx("button",{onClick:()=>f(!1),className:"btn-secondary",children:"×‘×™×˜×•×œ"})]})]}):e.jsxs("button",{onClick:()=>f(!0),className:"btn-danger flex items-center gap-2",children:[e.jsx(ge,{className:"w-4 h-4"}),"××—×§ ××©××¨×ª"]})})]}):e.jsx("div",{className:"flex items-center justify-center h-48 text-gray-400",children:"×œ× × ××¦××• ×¤×¨×˜×™ ××©××¨×ª"})]})})}function ua(){var ve,ye,pe,be;const[n,a]=M.useState(new Date),[t,s]=M.useState(!1),[r,i]=M.useState(null),[o,m]=M.useState(""),[x,f]=M.useState(!1),[h,g]=M.useState(!1),[l,c]=M.useState(null),v=gt(n,{weekStartsOn:0}),C=oe(),{can:k}=Pe(),{selectedIds:E,selectedCount:P,isSelected:L,toggleSelect:H,toggleAll:V,clearSelection:q}=ot(),{data:T,isLoading:G}=F({queryKey:["shifts",O(v,"yyyy-MM-dd")],queryFn:()=>W.getAll({start_date:O(v,"yyyy-MM-dd"),end_date:O(ee(v,6),"yyyy-MM-dd")}).then(u=>u.data)}),{data:Q}=F({queryKey:["customers-list"],queryFn:()=>qe.getAll({limit:100,status:"active"}).then(u=>u.data)}),{data:S}=F({queryKey:["sites",o],queryFn:()=>o?De.getByCustomer(o).then(u=>u.data):Promise.resolve({sites:[]}),enabled:!!o}),{data:d}=F({queryKey:["shift-templates"],queryFn:()=>te.getAll().then(u=>u.data),enabled:x}),b=U({mutationFn:u=>te.delete(u),onSuccess:()=>{C.invalidateQueries({queryKey:["shift-templates"]}),y.success("×”×ª×‘× ×™×ª × ××—×§×”")},onError:()=>y.error("×©×’×™××” ×‘××—×™×§×”")}),I=U({mutationFn:u=>W.create(u),onSuccess:()=>{C.invalidateQueries({queryKey:["shifts"]}),y.success("××©××¨×ª × ×•×¦×¨×” ×‘×”×¦×œ×—×”"),s(!1),de(),m("")},onError:()=>{y.error("×©×’×™××” ×‘×™×¦×™×¨×ª ××©××¨×ª")}}),se=U({mutationFn:u=>W.bulkApprove(u),onSuccess:u=>{C.invalidateQueries({queryKey:["shifts"]}),q(),y.success(u.data.message||"××©××¨×•×ª ××•×©×¨×• ×‘×”×¦×œ×—×”")},onError:()=>y.error("×©×’×™××” ×‘××™×©×•×¨ ××©××¨×•×ª")}),w=U({mutationFn:u=>W.bulkDelete(u),onSuccess:u=>{C.invalidateQueries({queryKey:["shifts"]}),q(),y.success(u.data.message||"××©××¨×•×ª × ××—×§×•")},onError:()=>y.error("×©×’×™××” ×‘××—×™×§×ª ××©××¨×•×ª")}),{register:N,handleSubmit:J,reset:de,setValue:Le,formState:{errors:$}}=at({resolver:st(Rt),defaultValues:{date:O(new Date,"yyyy-MM-dd"),required_employees:1,requires_weapon:!1,requires_vehicle:!1}}),Qe=u=>{I.mutate({...u,customer_id:o||void 0})},Ae=Array.from({length:7},(u,Y)=>ee(v,Y)),Ke=u=>{var B;const Y=O(u,"yyyy-MM-dd");return((B=T==null?void 0:T.shifts)==null?void 0:B.filter(j=>j.date===Y))||[]},ue=(T==null?void 0:T.shifts)||[];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"page-header flex-wrap gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"page-title",children:"××©××¨×•×ª"}),e.jsx("p",{className:"page-subtitle",children:"×œ×•×— ××©××¨×•×ª ×©×‘×•×¢×™"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[ue.length>0&&k("shifts:delete")&&e.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-500 cursor-pointer select-none",children:[e.jsx("input",{type:"checkbox",checked:P>0&&P===ue.length,onChange:()=>V(ue.map(u=>u.id)),className:"w-4 h-4 rounded border-gray-300"}),"×‘×—×¨ ×”×›×œ"]}),k("shifts:create")&&e.jsxs("button",{onClick:()=>f(!x),className:"btn-secondary flex items-center gap-2",children:[e.jsx(Ze,{className:"w-4 h-4"}),"×ª×‘× ×™×•×ª"]}),k("shifts:create")&&e.jsxs("button",{onClick:()=>s(!0),className:"btn-primary flex items-center gap-2",children:[e.jsx(we,{className:"w-4 h-4"}),"××©××¨×ª ×—×“×©×”"]})]})]}),x&&e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold",children:"×ª×‘× ×™×•×ª ××©××¨×•×ª"}),e.jsxs("button",{onClick:()=>g(!0),className:"btn-primary text-sm flex items-center gap-1",children:[e.jsx(we,{className:"w-4 h-4"}),"×ª×‘× ×™×ª ×—×“×©×”"]})]}),((ve=d==null?void 0:d.templates)==null?void 0:ve.length)>0?e.jsx("div",{className:"space-y-2",children:d.templates.map(u=>{const Y=typeof u.days_of_week=="string"?JSON.parse(u.days_of_week):u.days_of_week,B=["×","×‘","×’","×“","×”","×•","×©"];return e.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg ${u.is_active?"bg-primary-50 border border-primary-200":"bg-gray-50"}`,children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:u.name}),e.jsxs("p",{className:"text-sm text-gray-500",children:[u.company_name&&`${u.company_name} `,u.site_name&&`- ${u.site_name} `,"| ",u.start_time,"-",u.end_time,"| ",u.required_employees," ×¢×•×‘×“×™×"]}),e.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["×™××™×: ",(Y||[]).map(j=>B[j]).join(", ")]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:()=>c({id:u.id,name:u.name}),className:"btn-success text-xs flex items-center gap-1 px-2 py-1",children:[e.jsx($e,{className:"w-3.5 h-3.5"}),"×¦×•×¨ ××©××¨×•×ª"]}),e.jsx("button",{onClick:()=>b.mutate(u.id),className:"text-red-400 hover:text-red-600 p-1",children:e.jsx(ge,{className:"w-4 h-4"})})]})]},u.id)})}):e.jsx("p",{className:"text-gray-400 text-center py-4",children:"××™×Ÿ ×ª×‘× ×™×•×ª. ×¦×•×¨ ×ª×‘× ×™×ª ×¨××©×•× ×” ×›×“×™ ×œ×—×¡×•×š ×–××Ÿ."})]}),h&&e.jsx(At,{onClose:()=>g(!1)}),l&&e.jsx(Kt,{templateId:l.id,templateName:l.name,onClose:()=>c(null)}),e.jsx("div",{className:"card !p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("button",{onClick:()=>a(ee(n,-7)),className:"w-9 h-9 flex items-center justify-center rounded-xl bg-gray-50 hover:bg-gray-100 text-gray-500 transition-colors",children:e.jsx(dt,{className:"w-4 h-4"})}),e.jsxs("h2",{className:"text-sm font-semibold text-gray-900",children:[O(v,"d MMMM",{locale:re})," -"," ",O(ee(v,6),"d MMMM yyyy",{locale:re})]}),e.jsx("button",{onClick:()=>a(ee(n,7)),className:"w-9 h-9 flex items-center justify-center rounded-xl bg-gray-50 hover:bg-gray-100 text-gray-500 transition-colors",children:e.jsx(ze,{className:"w-4 h-4"})})]})}),G?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(A,{className:"h-8 w-32"}),e.jsx(A,{className:"h-4 w-48"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(A,{className:"h-10 w-10 rounded-xl"}),e.jsx(A,{className:"h-10 w-32 rounded-xl"}),e.jsx(A,{className:"h-10 w-10 rounded-xl"})]})]}),e.jsx("div",{className:"grid grid-cols-7 gap-3",children:Array.from({length:7}).map((u,Y)=>e.jsxs("div",{className:"bg-white rounded-2xl shadow-card p-3 min-h-[200px] space-y-2",children:[e.jsx(A,{className:"h-5 w-16"}),e.jsx(A,{className:"h-4 w-10"}),e.jsx(A,{className:"h-16 w-full rounded-lg"}),e.jsx(A,{className:"h-16 w-full rounded-lg"})]},Y))})]}):e.jsx("div",{className:"flex overflow-x-auto snap-x snap-mandatory gap-3 pb-2 md:grid md:grid-cols-7 md:overflow-visible md:snap-none md:pb-0",children:Ae.map(u=>{const Y=Ke(u),B=O(u,"yyyy-MM-dd")===O(new Date,"yyyy-MM-dd");return e.jsxs("div",{className:`snap-start min-w-[260px] md:min-w-0 flex-shrink-0 md:flex-shrink card !p-3 min-h-[200px] ${B?"ring-2 ring-primary-500/40 !shadow-sm":""}`,children:[e.jsxs("div",{className:"text-center mb-3",children:[e.jsx("p",{className:"text-xs text-gray-400 font-medium",children:O(u,"EEEE",{locale:re})}),e.jsx("p",{className:`text-lg font-bold mt-0.5 ${B?"text-primary-600":"text-gray-900"}`,children:O(u,"d")})]}),e.jsx("div",{className:"space-y-2",children:Y.length>0?Y.map(j=>{const He=j.assigned_count>=j.required_employees,Re=j.assigned_count>0&&j.assigned_count<j.required_employees;return j.assigned_count,e.jsxs("div",{onClick:()=>i(j.id),className:`p-2 rounded-lg text-xs cursor-pointer hover:shadow-card-hover transition-all ${L(j.id)?"ring-2 ring-primary-500 ":""}${He?"bg-success-50/80 border border-success-100 border-r-4 border-r-success-300":Re?"bg-warning-50/80 border border-warning-100 border-r-4 border-r-warning-300":"bg-danger-50/80 border border-danger-100 border-r-4 border-r-danger-300"}`,children:[e.jsxs("div",{className:"flex items-center gap-1.5 mb-1",children:[e.jsx("input",{type:"checkbox",checked:L(j.id),onChange:()=>H(j.id),className:"w-3.5 h-3.5 rounded border-gray-300 flex-shrink-0",onClick:Ge=>Ge.stopPropagation()}),e.jsx("p",{className:"font-medium truncate text-gray-900 flex-1",children:j.company_name})]}),e.jsx("p",{className:"text-gray-500 truncate",children:j.site_name}),e.jsxs("p",{className:"text-gray-400 mt-0.5 font-mono",children:[j.start_time," - ",j.end_time]}),e.jsxs("div",{className:"flex items-center gap-2 mt-1.5",children:[e.jsxs("div",{className:"flex items-center gap-1 text-gray-500",children:[e.jsx(he,{className:"w-3 h-3"}),e.jsxs("span",{children:[j.assigned_count,"/",j.required_employees]})]}),j.requires_weapon&&e.jsx(xe,{className:"w-3 h-3 text-amber-500"}),j.requires_vehicle&&e.jsx(fe,{className:"w-3 h-3 text-sky-500"})]})]},j.id)}):e.jsx("p",{className:"text-xs text-gray-300 text-center py-4",children:"â€”"})})]},u.toISOString())})}),r&&e.jsx(Gt,{shiftId:r,onClose:()=>i(null)}),e.jsx(ct,{selectedCount:P,onClear:q,actions:[{label:"××©×¨ × ×‘×—×¨×™×",onClick:()=>se.mutate([...E]),icon:e.jsx(ut,{className:"w-4 h-4"}),variant:"success",loading:se.isPending},{label:"××—×§ × ×‘×—×¨×™×",onClick:()=>{confirm("×”×× ×œ××—×•×§ ××ª ×”××©××¨×•×ª ×”× ×‘×—×¨×•×ª?")&&w.mutate([...E])},icon:e.jsx(ge,{className:"w-4 h-4"}),variant:"danger",loading:w.isPending}]}),t&&e.jsx("div",{className:"modal-backdrop",children:e.jsxs("div",{className:"modal-content w-full max-w-lg",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[e.jsx("h2",{className:"text-xl font-bold font-heading",children:"××©××¨×ª ×—×“×©×”"}),e.jsx("button",{onClick:()=>{s(!1),de(),m("")},className:"p-2 hover:bg-gray-100 rounded-lg",children:e.jsx(ce,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:J(Qe),className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"label",children:"×œ×§×•×— *"}),e.jsxs("select",{value:o,onChange:u=>{m(u.target.value),Le("site_id","")},className:"input",children:[e.jsx("option",{value:"",children:"×‘×—×¨ ×œ×§×•×—..."}),(ye=Q==null?void 0:Q.customers)==null?void 0:ye.map(u=>e.jsx("option",{value:u.id,children:u.company_name},u.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"label",children:"××ª×¨"}),e.jsxs("select",{...N("site_id"),className:"input",disabled:!o,children:[e.jsx("option",{value:"",children:o?((pe=S==null?void 0:S.sites)==null?void 0:pe.length)===0?"××™×Ÿ ××ª×¨×™× ×œ×œ×§×•×— ×–×”":"×‘×—×¨ ××ª×¨...":"×™×© ×œ×‘×—×•×¨ ×œ×§×•×— ×ª×—×™×œ×”..."}),(be=S==null?void 0:S.sites)==null?void 0:be.map(u=>e.jsxs("option",{value:u.id,children:[u.name," - ",u.address]},u.id))]}),!o&&e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"×‘×—×¨ ×œ×§×•×— ×›×“×™ ×œ×¨××•×ª ××ª ×¨×©×™××ª ×”××ª×¨×™×"}),$.site_id&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:$.site_id.message})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"label",children:"×ª××¨×™×š *"}),e.jsx("input",{...N("date"),type:"date",className:"input"}),$.date&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:$.date.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"label",children:"×©×¢×ª ×”×ª×—×œ×” *"}),e.jsx("input",{...N("start_time"),type:"time",className:"input"}),$.start_time&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:$.start_time.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"label",children:"×©×¢×ª ×¡×™×•× *"}),e.jsx("input",{...N("end_time"),type:"time",className:"input"}),$.end_time&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:$.end_time.message})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"label",children:"××¡×¤×¨ ×¢×•×‘×“×™× × ×“×¨×© *"}),e.jsx("input",{...N("required_employees",{valueAsNumber:!0}),type:"number",min:"1",className:"input w-32"}),$.required_employees&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:$.required_employees.message})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("h3",{className:"font-medium mb-3",children:"×“×¨×™×©×•×ª"}),e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{...N("requires_weapon"),type:"checkbox",className:"w-4 h-4 text-primary-600 rounded"}),e.jsx(xe,{className:"w-4 h-4 text-orange-500"}),e.jsx("span",{children:"× ×“×¨×© × ×©×§"})]}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{...N("requires_vehicle"),type:"checkbox",className:"w-4 h-4 text-primary-600 rounded"}),e.jsx(fe,{className:"w-4 h-4 text-blue-500"}),e.jsx("span",{children:"× ×“×¨×© ×¨×›×‘"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"label",children:"×”×¢×¨×•×ª"}),e.jsx("textarea",{...N("notes"),className:"input min-h-[80px]"})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{type:"submit",disabled:I.isPending,className:"btn-primary flex-1",children:I.isPending?"×©×•××¨...":"×©××•×¨"}),e.jsx("button",{type:"button",onClick:()=>{s(!1),de(),m("")},className:"btn-secondary",children:"×‘×™×˜×•×œ"})]})]})]})})]})}export{ua as default};
