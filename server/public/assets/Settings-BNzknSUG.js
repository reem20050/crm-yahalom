import{x as y,c as $,r as n,z as r,e as ee,d as m,a9 as i,j as e,X as P,A as se,E as te}from"./index-DNhSfFTF.js";import{u as ae}from"./index.esm-CTjlG80w.js";import{M as re}from"./mail-elckFBEn.js";import{C as q}from"./check-CKd6TXeu.js";import{U as M}from"./unlink-BV4Uvqj0.js";import{M as E}from"./message-circle-CWw4z9y6.js";import{E as p}from"./external-link-BplGfNjn.js";import{R as b}from"./refresh-cw-JBVqlPPd.js";/**
 * @license lucide-react v0.302.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=y("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.302.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=y("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.302.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=y("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.302.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=y("Wifi",[["path",{d:"M5 13a10 10 0 0 1 14 0",key:"6v8j51"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]);function ge(){const o=$(),[Q,f]=n.useState(!1),[u,K]=n.useState(""),[B,V]=n.useState(!1),[w,F]=n.useState(!1),[c,d]=n.useState("idle"),[v,O]=n.useState(""),[T,X]=n.useState(""),[g,A]=n.useState(null),[ie,Y]=n.useState(null),[_,h]=n.useState(null),x=n.useRef(null);n.useEffect(()=>{const s=new URLSearchParams(window.location.search),a=s.get("google");if(a==="connected")r.success("Google ×—×•×‘×¨ ×‘×”×¦×œ×—×”! ğŸ‰"),o.invalidateQueries({queryKey:["integrationSettings"]}),window.history.replaceState({},"","/settings");else if(a==="error"){const l=s.get("reason")||"";l.includes("access_denied")||l.includes("blocked")?r.error("×”×’×™×©×” × ×—×¡××” ×¢×œ ×™×“×™ Google. ×•×“× ×©×”××¤×œ×™×§×¦×™×” ×××•××ª×ª ×•×©×”××©×ª××© ××•×¨×©×”."):r.error("×©×’×™××” ×‘×”×ª×—×‘×¨×•×ª ×œ-Google: "+(l||"×©×’×™××” ×œ× ×™×“×•×¢×”")),window.history.replaceState({},"","/settings")}},[o]);const{data:t,isLoading:J}=ee({queryKey:["integrationSettings"],queryFn:async()=>(await i.get("/integrations/settings")).data}),k=ae(),S=m({mutationFn:async()=>(await i.get("/integrations/google/auth-url")).data,onSuccess:s=>{s.authUrl&&(window.location.href=s.authUrl)},onError:s=>{var l;const a=(l=s.response)==null?void 0:l.data;a!=null&&a.needsSetup?(V(!0),F(!0),r.error("×¦×¨×™×š ×œ×”×’×“×™×¨ Google OAuth ×‘×©×¨×ª")):r.error((a==null?void 0:a.message)||"×©×’×™××” ×‘×”×ª×—×‘×¨×•×ª ×œ-Google")}}),H=m({mutationFn:()=>i.post("/integrations/google/disconnect"),onSuccess:()=>{o.invalidateQueries({queryKey:["integrationSettings"]}),r.success("Google × ×•×ª×§ ×‘×”×¦×œ×—×”")},onError:()=>r.error("×©×’×™××” ×‘× ×™×ª×•×§ Google")}),j=m({mutationFn:async({url:s,apiKey:a})=>(await i.post("/integrations/whatsapp/settings",{wahaUrl:s,apiKey:a||""})).data,onSuccess:()=>{r.success("×©×¨×ª WAHA ××—×•×‘×¨! ×¡×¨×•×§ QR ×›×“×™ ×œ×—×‘×¨ ××ª WhatsApp"),d("qr"),W()},onError:s=>{var a,l;r.error(((l=(a=s.response)==null?void 0:a.data)==null?void 0:l.message)||"×©×’×™××” ×‘×”×ª×—×‘×¨×•×ª ×œ×©×¨×ª WAHA")}}),C=n.useCallback(async()=>{try{const s=await i.get("/integrations/whatsapp/qr");if(s.data.authenticated){d("connected"),N(),o.invalidateQueries({queryKey:["integrationSettings"]}),r.success("WhatsApp ××—×•×‘×¨ ×‘×”×¦×œ×—×”! ğŸ‰");const a=await i.get("/integrations/whatsapp/status");a.data.phoneNumber&&h(a.data.phoneNumber);return}s.data.qr&&A(s.data.qr)}catch{}},[o]),D=n.useCallback(async()=>{try{const s=await i.get("/integrations/whatsapp/status");Y(s.data.status),s.data.status==="WORKING"&&(d("connected"),h(s.data.phoneNumber),N(),o.invalidateQueries({queryKey:["integrationSettings"]}),r.success("WhatsApp ××—×•×‘×¨ ×‘×”×¦×œ×—×”! ğŸ‰"))}catch{}},[o]),W=n.useCallback(()=>{C(),x.current&&clearInterval(x.current),x.current=setInterval(async()=>{await D(),c==="qr"&&await C()},5e3)},[C,D,c]),N=()=>{x.current&&(clearInterval(x.current),x.current=null)};n.useEffect(()=>()=>N(),[]),n.useEffect(()=>{t!=null&&t.whatsapp.connected&&c==="idle"&&i.get("/integrations/whatsapp/status").then(s=>{const a=s.data.status;a==="WORKING"?(d("connected"),h(s.data.phoneNumber||t.whatsapp.phoneNumber||null)):(d("qr"),W())}).catch(()=>{d("connected"),h(t.whatsapp.phoneNumber||null)})},[t,c]);const L=m({mutationFn:()=>i.post("/integrations/whatsapp/disconnect"),onSuccess:()=>{o.invalidateQueries({queryKey:["integrationSettings"]}),r.success("WhatsApp × ×•×ª×§ ×‘×”×¦×œ×—×”"),d("idle"),A(null),O(""),h(null)},onError:()=>r.error("×©×’×™××” ×‘× ×™×ª×•×§ WhatsApp")}),G=m({mutationFn:s=>i.post("/integrations/whatsapp/test",{to:s}),onSuccess:()=>{r.success("×”×•×“×¢×ª ×‘×“×™×§×” × ×©×œ×—×” ×‘×”×¦×œ×—×”! âœ…"),K("")},onError:s=>{var a,l;r.error(((l=(a=s.response)==null?void 0:a.data)==null?void 0:l.message)||"×©×’×™××” ×‘×©×œ×™×—×ª ×”×•×“×¢×ª ×‘×“×™×§×”")}}),I=m({mutationFn:s=>i.post("/integrations/green-invoice/settings",s),onSuccess:()=>{o.invalidateQueries({queryKey:["integrationSettings"]}),r.success("×—×©×‘×•× ×™×ª ×™×¨×•×§×” ×”×•×’×“×¨×” ×‘×”×¦×œ×—×”"),f(!1)},onError:()=>{r.error("×©×’×™××” ×‘×—×™×‘×•×¨ ×œ×—×©×‘×•× ×™×ª ×™×¨×•×§×” - ×‘×“×•×§ ××ª ×¤×¨×˜×™ ×”×”×ª×—×‘×¨×•×ª")}}),U=m({mutationFn:()=>i.post("/integrations/green-invoice/disconnect"),onSuccess:()=>{o.invalidateQueries({queryKey:["integrationSettings"]}),r.success("×—×©×‘×•× ×™×ª ×™×¨×•×§×” × ×•×ª×§×” ×‘×”×¦×œ×—×”")},onError:()=>r.error("×©×’×™××” ×‘× ×™×ª×•×§ ×—×©×‘×•× ×™×ª ×™×¨×•×§×”")});if(J)return e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-primary-600 border-t-transparent"})});const Z=()=>c==="connected"||t!=null&&t.whatsapp.connected&&c!=="qr"&&c!=="url"?e.jsxs("div",{className:"mt-4 space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(le,{className:"w-4 h-4 text-green-500"}),e.jsx("p",{className:"text-sm text-gray-600",children:_||t!=null&&t.whatsapp.phoneNumber?e.jsxs(e.Fragment,{children:["××—×•×‘×¨: ",e.jsx("span",{className:"font-medium",dir:"ltr",children:_||(t==null?void 0:t.whatsapp.phoneNumber)})]}):"××—×•×‘×¨ ×•×¤×¢×™×œ"})]}),e.jsxs("button",{onClick:()=>L.mutate(),disabled:L.isPending,className:"btn-secondary text-red-600 hover:bg-red-50 flex items-center gap-2",children:[e.jsx(M,{className:"w-4 h-4"}),"× ×ª×§"]})]}),e.jsxs("div",{className:"flex items-center gap-2 p-3 bg-green-50 rounded-lg",children:[e.jsx("input",{type:"text",value:u,onChange:s=>K(s.target.value),placeholder:"××¡×¤×¨ ×˜×œ×¤×•×Ÿ ×œ×‘×“×™×§×” (050...)",className:"input flex-1 text-sm",dir:"ltr"}),e.jsxs("button",{onClick:()=>{u&&G.mutate(u)},disabled:G.isPending||!u,className:"btn-success text-sm px-3 py-2 flex items-center gap-1",children:[G.isPending?e.jsx(b,{className:"w-4 h-4 animate-spin"}):e.jsx(E,{className:"w-4 h-4"}),"×‘×“×•×§ ×—×™×‘×•×¨"]})]})]}):c==="qr"?e.jsxs("div",{className:"mt-4 space-y-4",children:[e.jsxs("div",{className:"text-center p-6 bg-green-50 rounded-xl border-2 border-green-200",children:[e.jsx(ne,{className:"w-8 h-8 text-green-600 mx-auto mb-3"}),e.jsx("h4",{className:"font-bold text-green-900 mb-2",children:"×¡×¨×•×§ QR Code ×¢× WhatsApp"}),e.jsx("p",{className:"text-sm text-green-700 mb-4",children:"×¤×ª×— WhatsApp ×‘×˜×œ×¤×•×Ÿ â†’ ×”×’×“×¨×•×ª â†’ ××›×©×™×¨×™× ××§×•×©×¨×™× â†’ ×§×©×¨ ××›×©×™×¨"}),g?e.jsx("div",{className:"inline-block bg-white p-4 rounded-xl shadow-lg",children:typeof g=="string"&&g.startsWith("data:")?e.jsx("img",{src:g,alt:"WhatsApp QR Code",className:"w-64 h-64"}):e.jsx("div",{className:"w-64 h-64 flex items-center justify-center bg-gray-50 rounded text-xs text-gray-500 break-all p-2 overflow-hidden",children:e.jsx(z,{className:"w-16 h-16 text-gray-300"})})}):e.jsx("div",{className:"inline-block",children:e.jsxs("div",{className:"w-64 h-64 bg-white rounded-xl shadow-lg flex flex-col items-center justify-center gap-3",children:[e.jsx(b,{className:"w-8 h-8 text-green-500 animate-spin"}),e.jsx("p",{className:"text-sm text-gray-500",children:"×˜×•×¢×Ÿ QR Code..."})]})}),e.jsxs("div",{className:"mt-4 flex items-center justify-center gap-2 text-xs text-green-600",children:[e.jsx(b,{className:"w-3 h-3 animate-spin"}),"×××ª×™×Ÿ ×œ×¡×¨×™×§×”... (××ª×¨×¢× ×Ÿ ××•×˜×•××˜×™×ª)"]})]}),e.jsx("button",{onClick:()=>{d("idle"),N(),A(null)},className:"btn-secondary w-full",children:"×‘×™×˜×•×œ"})]}):c==="url"?e.jsx("div",{className:"mt-4 space-y-4",children:e.jsxs("div",{className:"bg-green-50 rounded-lg p-4 border border-green-200",children:[e.jsx("h4",{className:"font-bold text-green-900 mb-2",children:"×—×™×‘×•×¨ ×©×¨×ª WAHA"}),e.jsx("p",{className:"text-sm text-green-700 mb-3",children:"×”×›× ×¡ ××ª ×›×ª×•×‘×ª ×©×¨×ª ×”-WAHA ×©×œ×š. ×× ×¢×“×™×™×Ÿ ××™×Ÿ ×œ×š, ×œ×—×¥ ×¢×œ ×”×›×¤×ª×•×¨ ×œ××˜×” ×›×“×™ ×œ×”×§×™× ××—×“ ×‘-Railway ×‘×—×™× ×."}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"label",children:"×›×ª×•×‘×ª ×©×¨×ª WAHA"}),e.jsx("input",{type:"url",value:v,onChange:s=>O(s.target.value),className:"input",dir:"ltr",placeholder:"http://localhost:3000"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"label",children:"API Key (××•×¤×¦×™×•× ×œ×™)"}),e.jsx("input",{type:"text",value:T,onChange:s=>X(s.target.value),className:"input",dir:"ltr",placeholder:"WAHA_API_KEY (××”×œ×•×’×™× ×©×œ WAHA)"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>j.mutate({url:v,apiKey:T}),disabled:!v||j.isPending,className:"btn-primary flex items-center gap-2",children:[j.isPending?e.jsx(b,{className:"w-4 h-4 animate-spin"}):e.jsx(R,{className:"w-4 h-4"}),j.isPending?"××ª×—×‘×¨...":"×”×ª×—×‘×¨"]}),e.jsx("button",{onClick:()=>d("idle"),className:"btn-secondary",children:"×‘×™×˜×•×œ"})]})]}),e.jsxs("div",{className:"mt-4 pt-3 border-t border-green-200",children:[e.jsx("p",{className:"text-xs text-green-800 font-medium mb-2",children:"××™×Ÿ ×œ×š ×©×¨×ª WAHA? ×”×§× ××—×“ ×‘×—×™× ×:"}),e.jsxs("a",{href:"https://railway.com/new/template/waha",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-3 py-2 bg-purple-600 text-white rounded-lg text-sm hover:bg-purple-700 transition-colors",children:[e.jsx("img",{src:"https://railway.com/button.svg",alt:"",className:"h-4 w-auto",onError:s=>{s.target.style.display="none"}}),"Deploy on Railway (×—×™× ×)",e.jsx(p,{className:"w-3 h-3"})]}),e.jsx("p",{className:"text-xs text-green-600 mt-2",children:"××—×¨×™ ×”×”×§××”, ×”×¢×ª×§ ××ª ×”-URL ×©×œ ×”×©×¨×ª (×œ××©×œ: https://waha-production-xxxx.up.railway.app) ×•×”×›× ×¡ ××•×ª×• ×œ××¢×œ×”."})]})]})}):e.jsxs("div",{className:"mt-4",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"×—×‘×¨ ××ª WhatsApp ×©×œ×š ×›×“×™ ×œ×©×œ×•×— ×ª×–×›×•×¨×•×ª ××©××¨×•×ª, ××™×©×•×¨×™ ×”×–×× ×•×ª ×•×¢×•×“ ×™×©×™×¨×•×ª ××”××¢×¨×›×ª."}),e.jsx("p",{className:"text-xs text-gray-400 mb-3",children:"××©×ª××© ×‘-WAHA (WhatsApp HTTP API) - ×—×™× ××™, ×‘×œ×™ Meta Business"}),e.jsxs("button",{onClick:()=>d("url"),className:"btn-primary flex items-center gap-2",children:[e.jsx(E,{className:"w-4 h-4"}),"×”×’×“×¨ WhatsApp"]})]});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h1",{className:"page-title",children:"×”×’×“×¨×•×ª"}),e.jsx("p",{className:"page-subtitle",children:"× ×™×”×•×œ ××™× ×˜×’×¨×¦×™×•×ª ×•×—×™×‘×•×¨×™× ×—×™×¦×•× ×™×™×"})]}),e.jsxs("div",{className:"grid gap-6",children:[e.jsx("div",{className:"card",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-red-100 to-red-50 rounded-xl flex items-center justify-center",children:e.jsx(re,{className:"w-6 h-6 text-red-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 font-heading",children:"Google Workspace"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Gmail, Calendar, Drive"})]}),t!=null&&t.google.connected?e.jsxs("span",{className:"badge badge-success flex items-center gap-1",children:[e.jsx(q,{className:"w-3 h-3"}),"××—×•×‘×¨"]}):e.jsxs("span",{className:"badge badge-gray flex items-center gap-1",children:[e.jsx(P,{className:"w-3 h-3"}),"×œ× ××—×•×‘×¨"]})]}),t!=null&&t.google.connected?e.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[e.jsxs("p",{className:"text-sm text-gray-600",children:["××—×•×‘×¨ ×›: ",e.jsx("span",{className:"font-medium",children:t.google.email})]}),e.jsxs("button",{onClick:()=>H.mutate(),disabled:H.isPending,className:"btn-secondary text-red-600 hover:bg-red-50 flex items-center gap-2",children:[e.jsx(M,{className:"w-4 h-4"}),"× ×ª×§"]})]}):e.jsxs("div",{className:"mt-4 space-y-3",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"×—×‘×¨ ××ª ×—×©×‘×•×Ÿ Google ×©×œ×š ×›×“×™ ×œ×©×œ×•×— ××™×™×œ×™×, ×œ×¡× ×›×¨×Ÿ ×™×•××Ÿ ×•×œ×©××•×¨ ××¡××›×™×"}),B&&e.jsxs("div",{className:"flex items-start gap-2 p-3 bg-amber-50 rounded-lg border border-amber-200",children:[e.jsx(se,{className:"w-4 h-4 text-amber-600 mt-0.5 flex-shrink-0"}),e.jsx("p",{className:"text-sm text-amber-800",children:'×¦×¨×™×š ×œ×”×’×“×™×¨ Google OAuth ×‘×©×¨×ª. ×œ×—×¥ ×¢×œ "××“×¨×™×š ×”×’×“×¨×”" ×œ××˜×”.'})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("button",{onClick:()=>S.mutate(),disabled:S.isPending,className:"btn-primary flex items-center gap-2",children:[e.jsx(R,{className:"w-4 h-4"}),S.isPending?"××ª×—×‘×¨...":"×”×ª×—×‘×¨ ×¢× Google"]})}),e.jsx("button",{type:"button",onClick:()=>F(!w),className:"text-primary-600 hover:underline text-sm flex items-center gap-1",children:w?"â–² ×”×¡×ª×¨ ××“×¨×™×š":"â–¼ ××“×¨×™×š ×”×’×“×¨×ª Google OAuth"}),w&&e.jsxs("div",{className:"bg-red-50 rounded-lg p-4 text-sm space-y-2 border border-red-200",children:[e.jsx("h4",{className:"font-bold text-red-900",children:"××“×¨×™×š ×”×’×“×¨×ª Google OAuth"}),e.jsxs("ol",{className:"list-decimal list-inside space-y-1.5 text-red-800",children:[e.jsxs("li",{children:["×”×™×›× ×¡ ×œ-",e.jsx("a",{href:"https://console.cloud.google.com",target:"_blank",rel:"noopener noreferrer",className:"underline font-medium",children:"Google Cloud Console"})]}),e.jsx("li",{children:"×¦×•×¨ ×¤×¨×•×™×§×˜ ×—×“×© ××• ×‘×—×¨ ×§×™×™×"}),e.jsxs("li",{children:["×”×¤×¢×œ ××ª ×”-APIs ×”×‘××™×:",e.jsxs("ul",{className:"list-disc list-inside mr-4 mt-1 space-y-0.5",children:[e.jsx("li",{children:"Gmail API"}),e.jsx("li",{children:"Google Calendar API"}),e.jsx("li",{children:"Google Drive API"})]})]}),e.jsxs("li",{children:["×”×’×“×¨ ",e.jsx("span",{className:"font-bold",children:"OAuth consent screen"}),":",e.jsxs("ul",{className:"list-disc list-inside mr-4 mt-1 space-y-0.5",children:[e.jsx("li",{children:"User type: External"}),e.jsxs("li",{children:["×”×•×¡×£ ××ª ×”××™×™×œ×™× ×©×œ×š ×œ-",e.jsx("span",{className:"font-bold",children:"Test users"})]}),e.jsx("li",{children:"×”×•×¡×£ scopes: Gmail Send, Calendar, Drive Files"})]})]}),e.jsxs("li",{children:["×¦×•×¨ ",e.jsx("span",{className:"font-bold",children:"OAuth 2.0 Client ID"})," (Credentials â†’ Create â†’ Web Application):",e.jsx("ul",{className:"list-disc list-inside mr-4 mt-1 space-y-0.5",children:e.jsxs("li",{children:["Authorized redirect URI: ",e.jsx("code",{className:"bg-red-100 px-1 rounded text-xs",dir:"ltr",children:"https://web-production-9c7e4.up.railway.app/api/integrations/google/callback"})]})})]}),e.jsxs("li",{children:["×”×¢×ª×§ ××ª ",e.jsx("span",{className:"font-bold",children:"Client ID"})," ×•-",e.jsx("span",{className:"font-bold",children:"Client Secret"})]}),e.jsxs("li",{children:["×”×’×“×¨ ×‘-Railway (Environment Variables):",e.jsxs("ul",{className:"list-disc list-inside mr-4 mt-1 space-y-0.5",children:[e.jsx("li",{children:e.jsx("code",{className:"bg-red-100 px-1 rounded text-xs",dir:"ltr",children:"GOOGLE_CLIENT_ID=your-client-id"})}),e.jsx("li",{children:e.jsx("code",{className:"bg-red-100 px-1 rounded text-xs",dir:"ltr",children:"GOOGLE_CLIENT_SECRET=your-client-secret"})})]})]})]}),e.jsxs("div",{className:"mt-3 p-2 bg-red-100 rounded text-xs text-red-700",children:[e.jsx("p",{className:"font-bold",children:"âš ï¸ ×—×©×•×‘:"}),e.jsx("p",{children:"×›×œ ×¢×•×“ ×”××¤×œ×™×§×¦×™×” ×œ× ×××•××ª×ª (Testing), ×¨×§ ××©×ª××©×™× ×©×”×•×¡×¤×ª ×œ-Test users ×™×•×›×œ×• ×œ×”×ª×—×‘×¨."}),e.jsx("p",{children:'×× ××•×¤×™×¢ "×”×’×™×©×” ×—×¡×•××”" - ×•×“× ×©×”××™×™×œ ×©×œ×š ××•×¤×™×¢ ×‘-Test users.'})]})]})]})]})]})}),e.jsx("div",{className:"card",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-100 to-green-50 rounded-xl flex items-center justify-center",children:e.jsx(E,{className:"w-6 h-6 text-green-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 font-heading",children:"WhatsApp"}),e.jsx("p",{className:"text-sm text-gray-500",children:"×©×œ×™×—×ª ×”×•×“×¢×•×ª ××•×˜×•××˜×™×•×ª"})]}),c==="connected"||t!=null&&t.whatsapp.connected?e.jsxs("span",{className:"badge badge-success flex items-center gap-1",children:[e.jsx(q,{className:"w-3 h-3"}),"××—×•×‘×¨"]}):c==="qr"?e.jsxs("span",{className:"badge bg-yellow-100 text-yellow-800 flex items-center gap-1",children:[e.jsx(z,{className:"w-3 h-3"}),"×××ª×™×Ÿ ×œ×¡×¨×™×§×”"]}):e.jsxs("span",{className:"badge badge-gray flex items-center gap-1",children:[e.jsx(P,{className:"w-3 h-3"}),"×œ× ××—×•×‘×¨"]})]}),Z()]})]})}),e.jsx("div",{className:"card",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-100 to-blue-50 rounded-xl flex items-center justify-center",children:e.jsx(te,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 font-heading",children:"×—×©×‘×•× ×™×ª ×™×¨×•×§×”"}),e.jsx("p",{className:"text-sm text-gray-500",children:"×”×¤×§×ª ×—×©×‘×•× ×™×•×ª ×•×§×‘×œ×•×ª"})]}),t!=null&&t.greenInvoice.connected?e.jsxs("span",{className:"badge badge-success flex items-center gap-1",children:[e.jsx(q,{className:"w-3 h-3"}),"××—×•×‘×¨"]}):e.jsxs("span",{className:"badge badge-gray flex items-center gap-1",children:[e.jsx(P,{className:"w-3 h-3"}),"×œ× ××—×•×‘×¨"]})]}),t!=null&&t.greenInvoice.connected&&!Q?e.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[e.jsxs("p",{className:"text-sm text-gray-600",children:["×¢×¡×§: ",e.jsx("span",{className:"font-medium",children:t.greenInvoice.businessName})]}),e.jsxs("button",{onClick:()=>U.mutate(),disabled:U.isPending,className:"btn-secondary text-red-600 hover:bg-red-50 flex items-center gap-2",children:[e.jsx(M,{className:"w-4 h-4"}),"× ×ª×§"]})]}):Q?e.jsxs("form",{onSubmit:k.handleSubmit(s=>I.mutate(s)),className:"mt-4 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"label",children:"API Key"}),e.jsx("input",{...k.register("apiKey",{required:!0}),className:"input",dir:"ltr"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"label",children:"API Secret"}),e.jsx("input",{...k.register("apiSecret",{required:!0}),type:"password",className:"input",dir:"ltr"})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{type:"submit",disabled:I.isPending,className:"btn-primary",children:I.isPending?"××ª×—×‘×¨...":"×”×ª×—×‘×¨"}),e.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn-secondary",children:"×‘×™×˜×•×œ"})]}),e.jsx("p",{className:"text-xs text-gray-500",children:e.jsxs("a",{href:"https://www.greeninvoice.co.il/api-docs/",target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:underline flex items-center gap-1",children:["××“×¨×™×š ×œ×§×‘×œ×ª ××¤×ª×—×•×ª API",e.jsx(p,{className:"w-3 h-3"})]})})]}):e.jsxs("div",{className:"mt-4",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"×—×‘×¨ ××ª ×—×©×‘×•× ×™×ª ×™×¨×•×§×” ×›×“×™ ×œ×”×¤×™×§ ×—×©×‘×•× ×™×•×ª ×•×§×‘×œ×•×ª ×™×©×™×¨×•×ª ××”××¢×¨×›×ª"}),e.jsxs("button",{onClick:()=>f(!0),className:"btn-primary flex items-center gap-2",children:[e.jsx(R,{className:"w-4 h-4"}),"×”×’×“×¨ ×—×©×‘×•× ×™×ª ×™×¨×•×§×”"]})]})]})]})})]}),e.jsxs("div",{className:"card bg-gray-50",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"×¦×¨×™×š ×¢×–×¨×”?"}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"×œ××“×¨×™×›×™× ××¤×•×¨×˜×™× ×¢×œ ×”×’×“×¨×ª ×”××™× ×˜×’×¨×¦×™×•×ª, ×¤× ×” ×œ×ª××™×›×” ×”×˜×›× ×™×ª ××• ×¢×™×™×Ÿ ×‘×ª×™×¢×•×“."}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("a",{href:"#",className:"text-primary-600 text-sm hover:underline flex items-center gap-1",children:["××“×¨×™×š Google Workspace",e.jsx(p,{className:"w-3 h-3"})]}),e.jsxs("a",{href:"https://waha.devlike.pro/",target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 text-sm hover:underline flex items-center gap-1",children:["××“×¨×™×š WhatsApp (WAHA)",e.jsx(p,{className:"w-3 h-3"})]}),e.jsxs("a",{href:"#",className:"text-primary-600 text-sm hover:underline flex items-center gap-1",children:["××“×¨×™×š ×—×©×‘×•× ×™×ª ×™×¨×•×§×”",e.jsx(p,{className:"w-3 h-3"})]})]})]})]})}export{ge as default};
